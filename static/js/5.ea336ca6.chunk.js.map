{"version":3,"sources":["components/content/FindUsers/FindUsers.module.css","components/content/FindUsers/User/User.module.css","components/common/Paginator/Paginator.module.css","components/content/FindUsers/User/User.jsx","components/common/Paginator/Paginator.jsx","components/content/FindUsers/FindUsers.jsx","Redux/user-selectors.js","components/content/FindUsers/FindUsersContainer.jsx"],"names":["module","exports","User","props","className","style","user","sideBarInfo","avatar","to","userInfo","id","src","photos","small","defaultPhoto","alt","followButton","followed","onClick","onUnFollow","disabled","followingInProgressUsers","some","onFollow","blockInfo","fullName","name","status","Paginator","checkNumRange","page","totalPage","pages","Math","ceil","totalCounts","pageSize","pagesArr","focusPage","i","push","unshift","pagesElem","map","onChangePage","FindUsers","createUsers","users","info","getUsers","state","findUsersPage","getSuperUsers","createSelector","console","error","filter","u","getPageSize","getFocusPage","getTotalCounts","getFollowingInProgressUsers","getIsFetching","isFetching","FindUsersContainer","this","requestUsers","follow","unFollow","bind","React","Component","connect","superUsers"],"mappings":"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","file":"static/js/5.ea336ca6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"FindUsers_users__3wk1o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__1bOAB\",\"sideBarInfo\":\"User_sideBarInfo__2a9tp\",\"avatar\":\"User_avatar__2PtBk\",\"followButton\":\"User_followButton__wuYuN\",\"blockInfo\":\"User_blockInfo__1rNQE\",\"fullName\":\"User_fullName__1ZNZV\",\"status\":\"User_status__3b3U3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__1HGun\",\"focusPage\":\"Paginator_focusPage__nOCtb\"};","import React from 'react';\r\nimport style from './User.module.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport defaultPhoto from '../../../../assets/images/defaultPhoto.jpg';\r\n\r\nconst User = (props) => {\r\n    const follow = () => {\r\n        props.onFollow(props.userInfo.id);\r\n    }\r\n\r\n    const unfollow = () => {\r\n        props.onUnFollow(props.userInfo.id);\r\n    }\r\n\r\n    return (\r\n        <div className={style.user}> \r\n            <div className={style.sideBarInfo}>\r\n                <div className={style.avatar}>\r\n                    <Link to={`/profile/${props.userInfo.id}`} >\r\n                        <img src={props.userInfo.photos.small != null ? props.userInfo.photos.small : defaultPhoto} alt=\"avatar\"/>\r\n                    </Link>             \r\n                </div>\r\n                <div className={style.followButton}>\r\n                    {props.userInfo.followed \r\n                        ? <button\r\n                            onClick={unfollow}\r\n                            disabled={props.followingInProgressUsers.some(id => id === props.userInfo.id)}\r\n                        >Unfollow</button>\r\n                        : <button\r\n                            onClick={follow}\r\n                            disabled={props.followingInProgressUsers.some(id => id === props.userInfo.id)}\r\n                        >Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={style.blockInfo}>\r\n                <div className={style.fullName}>\r\n                    <Link to={`/profile/${props.userInfo.id}`} >\r\n                        {props.userInfo.name}\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={style.status}>\r\n                    <div>{props.userInfo.status}</div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}   \r\n\r\nexport default User;","import React from 'react';\r\nimport style from './Paginator.module.css';\r\n\r\n//icons\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\n\r\nconst Paginator = (props) => {\r\n    const checkNumRange = (page, totalPage) => {\r\n        if(totalPage > page && page > 0) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    const pages = Math.ceil(props.totalCounts / props.pageSize);\r\n\r\n    let pagesArr = [props.focusPage];\r\n\r\n    for(let i = 1; i <= 3; i++) {\r\n        if(checkNumRange(props.focusPage + i, pages)) {\r\n            pagesArr.push(props.focusPage + i);\r\n        }\r\n        if(checkNumRange(props.focusPage - i, pages)) {\r\n            pagesArr.unshift(props.focusPage - i);\r\n        }\r\n    }\r\n\r\n    const pagesElem = pagesArr.map(page => {\r\n        return <span\r\n            key={page}\r\n            className={page === props.focusPage ? style.focusPage : ''}\r\n            onClick={() => {props.onChangePage(page)}}\r\n        >{page}</span>\r\n    });\r\n\r\n    const onBack = () => {\r\n        if(props.focusPage !== 1) {\r\n            props.onChangePage(props.focusPage -1)\r\n        }\r\n    }\r\n\r\n    const onForward = () => {\r\n        if(props.focusPage < pages) {\r\n            props.onChangePage(props.focusPage + 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.pages}>\r\n            <ArrowBackIosIcon onClick={onBack}/>\r\n            {pagesElem}\r\n            <ArrowForwardIosIcon onClick={onForward}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from 'react';\r\nimport style from './FindUsers.module.css';\r\nimport User from './User/User';\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\n\r\nconst FindUsers = (props) => {\r\n    const createUsers = props.users.map(info => {\r\n        return <User key={info.id}\r\n            userInfo={info}\r\n            onFollow={props.onFollow}\r\n            onUnFollow={props.onUnFollow}\r\n            followingInProgressUsers={props.followingInProgressUsers}\r\n        />\r\n    });\r\n\r\n    return (\r\n        <div >\r\n            <div className={style.users}>\r\n                {createUsers}\r\n            </div>\r\n            <div>\r\n                <Paginator\r\n                    onChangePage={props.onChangePage}\r\n                    totalCounts={props.totalCounts}\r\n                    pageSize={props.pageSize}\r\n                    focusPage={props.focusPage}\r\n                />\r\n            </div>\r\n        </div>\r\n    )  \r\n}   \r\n\r\nexport default FindUsers;","import { createSelector } from 'reselect';\r\n\r\nexport const getUsers = (state) => {\r\n    return state.findUsersPage.users;\r\n}\r\n\r\nexport const getSuperUsers = createSelector(getUsers,\r\n        (users) => {\r\n        console.error('ABOBA ВЫРУБИ НАХУЙ ОБУЧАЛКУ ПО РЕСЕЛЕКТОРУ')\r\n        return users.filter(u => true);\r\n        }\r\n    );\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.findUsersPage.pageSize;\r\n}\r\n\r\nexport const getFocusPage = (state) => {\r\n    return state.findUsersPage.focusPage;\r\n}\r\n\r\nexport const getTotalCounts = (state) => {\r\n    return state.findUsersPage.totalCounts;\r\n}\r\n\r\nexport const getFollowingInProgressUsers = (state) => {\r\n    return state.findUsersPage.followingInProgressUsers;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.findUsersPage.isFetching;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FindUsers from './FindUsers';\r\nimport {\r\n        requestUsers,\r\n        follow,\r\n        unFollow\r\n    } from '../../../Redux/findUsers-reducer';\r\nimport Preloader from '../../common/Preloader/preloader';\r\nimport {\r\n    getFocusPage,\r\n    getFollowingInProgressUsers, getIsFetching,\r\n    getPageSize, getSuperUsers,\r\n    getTotalCounts,\r\n    getUsers\r\n} from \"../../../Redux/user-selectors\";\r\n\r\nclass FindUsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers();\r\n    }\r\n    \r\n    onChangePage(page) {\r\n        this.props.requestUsers(this.props.pageSize, page);\r\n    }\r\n\r\n    follow(id) {\r\n        this.props.follow(id);\r\n    }\r\n\r\n    unFollow(id) {\r\n        this.props.unFollow(id);\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching\r\n            ? <Preloader />\r\n            : <FindUsers     \r\n                onChangePage={this.onChangePage.bind(this)}\r\n                onFollow={this.follow.bind(this)}\r\n                onUnFollow={this.unFollow.bind(this)}\r\n                users={this.props.users}\r\n                totalCounts={this.props.totalCounts}\r\n                pageSize={this.props.pageSize}\r\n                focusPage={this.props.focusPage}\r\n                followingInProgressUsers={this.props.followingInProgressUsers}\r\n             />\r\n            }\r\n        </>\r\n        \r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        focusPage: getFocusPage(state),\r\n        totalCounts: getTotalCounts(state),\r\n        followingInProgressUsers: getFollowingInProgressUsers(state),\r\n        isFetching: getIsFetching(state),\r\n        superUsers: getSuperUsers(state)\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    requestUsers,\r\n    follow,\r\n    unFollow\r\n})(FindUsersContainer);\r\n\r\n"],"sourceRoot":""}