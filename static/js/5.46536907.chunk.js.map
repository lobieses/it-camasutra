{"version":3,"sources":["components/content/FindUsers/FindUsers.module.css","components/content/FindUsers/User/User.module.css","components/common/Paginator/Paginator.module.css","components/content/FindUsers/User/User.tsx","components/common/Paginator/Paginator.tsx","components/content/FindUsers/FindUsers.tsx","components/content/FindUsers/FindUsersContainer.tsx"],"names":["module","exports","User","props","className","style","user","sideBarInfo","avatar","to","userInfo","id","src","photos","small","defaultPhoto","alt","isAuth","followButton","followed","onClick","onUnFollow","disabled","followingInProgressUsers","some","onFollow","blockInfo","fullName","name","status","Paginator","checkNumRange","page","totalPage","pages","Math","ceil","totalCounts","pageSize","pagesArr","focusPage","i","push","unshift","pagesElem","map","onChangePage","FindUsers","Users","users","info","FindUsersContainer","this","requestUsers","follow","unFollow","isFetching","bind","React","Component","connect","state","findUsersPage","auth"],"mappings":"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","file":"static/js/5.46536907.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"FindUsers_users__1-IWp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2rFD8\",\"sideBarInfo\":\"User_sideBarInfo__229eb\",\"avatar\":\"User_avatar__1q78b\",\"followButton\":\"User_followButton__3asO9\",\"blockInfo\":\"User_blockInfo__1l2rW\",\"fullName\":\"User_fullName__2cVrL\",\"status\":\"User_status__17ST5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__17gF8\",\"focusPage\":\"Paginator_focusPage__1SZcw\"};","import React, {FC} from 'react';\r\nimport style from './User.module.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport defaultPhoto from '../../../../assets/images/defaultPhoto.svg';\r\nimport {userType} from \"../../../../types/types\";\r\n\r\ntype PropsType = {\r\n    userInfo: userType,\r\n    followingInProgressUsers: Array<number>,\r\n    isAuth: boolean,\r\n    onFollow: (id: number) => void,\r\n    onUnFollow: (id: number) => void\r\n}\r\n\r\nconst User: FC<PropsType> = (props) => {\r\n    const follow = () => {\r\n        props.onFollow(props.userInfo.id);\r\n    }\r\n\r\n    const unfollow = () => {\r\n        props.onUnFollow(props.userInfo.id);\r\n    }\r\n\r\n    return (\r\n        <div className={style.user}> \r\n            <div className={style.sideBarInfo}>\r\n                <div className={style.avatar}>\r\n                    <Link to={`/profile/${props.userInfo.id}`} >\r\n                        <img src={props.userInfo.photos.small != null ? props.userInfo.photos.small : defaultPhoto} alt=\"avatar\"/>\r\n                    </Link>             \r\n                </div>\r\n                {props.isAuth\r\n                  ? <div className={style.followButton}>\r\n                        {props.userInfo.followed\r\n                            ? <button\r\n                                onClick={unfollow}\r\n                                disabled={props.followingInProgressUsers.some(id => id === props.userInfo.id)}\r\n                            >Unfollow</button>\r\n                            : <button\r\n                                onClick={follow}\r\n                                disabled={props.followingInProgressUsers.some(id => id === props.userInfo.id)}\r\n                            >Follow</button>\r\n                        }\r\n                    </div>\r\n                : ''\r\n                }\r\n\r\n            </div>\r\n            <div className={style.blockInfo}>\r\n                <div className={style.fullName}>\r\n                    <Link to={`/profile/${props.userInfo.id}`} >\r\n                        {props.userInfo.name}\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={style.status}>\r\n                    <div>{props.userInfo.status}</div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}   \r\n\r\nexport default User;","import React, {FC} from 'react';\r\nimport style from './Paginator.module.css';\r\n//icons\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport {userType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    totalCounts: number,\r\n    pageSize: number,\r\n    focusPage: number,\r\n    onChangePage: (page: number) => void,\r\n}\r\n\r\nconst Paginator: FC<PropsType> = (props) => {\r\n    const checkNumRange = (page: number, totalPage: number) => {\r\n        if(totalPage > page && page > 0) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    const pages = Math.ceil(props.totalCounts / props.pageSize);\r\n\r\n    let pagesArr = [props.focusPage];\r\n\r\n    for(let i = 1; i <= 3; i++) {\r\n        if(checkNumRange(props.focusPage + i, pages)) {\r\n            pagesArr.push(props.focusPage + i);\r\n        }\r\n        if(checkNumRange(props.focusPage - i, pages)) {\r\n            pagesArr.unshift(props.focusPage - i);\r\n        }\r\n    }\r\n\r\n    const pagesElem = pagesArr.map(page => {\r\n        return <span\r\n            key={page}\r\n            className={page === props.focusPage ? style.focusPage : ''}\r\n            onClick={() => {props.onChangePage(page)}}\r\n        >{page}</span>\r\n    });\r\n\r\n    const onBack = () => {\r\n        if(props.focusPage !== 1) {\r\n            props.onChangePage(props.focusPage -1)\r\n        }\r\n    }\r\n\r\n    const onForward = () => {\r\n        if(props.focusPage < pages) {\r\n            props.onChangePage(props.focusPage + 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.pages}>\r\n            <ArrowBackIosIcon onClick={onBack}/>\r\n            {pagesElem}\r\n            <ArrowForwardIosIcon onClick={onForward}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React, {FC} from 'react';\r\nimport style from './FindUsers.module.css';\r\nimport User from './User/User';\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport {userType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    users: Array<userType>,\r\n    totalCounts: number,\r\n    pageSize: number,\r\n    focusPage: number,\r\n    followingInProgressUsers: Array<number>,\r\n    isAuth: boolean,\r\n    onChangePage: (page: number) => void,\r\n    onFollow: (id: number) => void,\r\n    onUnFollow: (id: number) => void\r\n}\r\n\r\nconst FindUsers: FC<PropsType> = (props) => {\r\n    const Users = props.users.map(info => {\r\n        return <User key={info.id}\r\n            userInfo={info}\r\n            onFollow={props.onFollow}\r\n            onUnFollow={props.onUnFollow}\r\n            followingInProgressUsers={props.followingInProgressUsers}\r\n            isAuth={props.isAuth}\r\n        />\r\n    });\r\n\r\n    return (\r\n        <div >\r\n            <div className={style.users}>\r\n                {Users}\r\n            </div>\r\n            <div>\r\n                <Paginator\r\n                    onChangePage={props.onChangePage}\r\n                    totalCounts={props.totalCounts}\r\n                    pageSize={props.pageSize}\r\n                    focusPage={props.focusPage}\r\n                />\r\n            </div>\r\n        </div>\r\n    )  \r\n}   \r\n\r\nexport default FindUsers;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FindUsers from './FindUsers';\r\nimport {\r\n        requestUsers,\r\n        follow,\r\n        unFollow\r\n    } from '../../../Redux/findUsers-reducer';\r\nimport Preloader from '../../common/Preloader/preloader';\r\nimport {GlobalStateType} from \"../../../Redux/store\";\r\nimport {userType} from \"../../../types/types\";\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass FindUsersContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.pageSize);\r\n    }\r\n    \r\n    onChangePage(page: number) {\r\n        this.props.requestUsers(this.props.pageSize, page);\r\n    }\r\n\r\n    follow(id: number) {\r\n        this.props.follow(id);\r\n    }\r\n\r\n    unFollow(id: number) {\r\n        this.props.unFollow(id);\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching\r\n            ? <Preloader />\r\n            : <FindUsers     \r\n                onChangePage={this.onChangePage.bind(this)}\r\n                onFollow={this.follow.bind(this)}\r\n                onUnFollow={this.unFollow.bind(this)}\r\n                users={this.props.users}\r\n                totalCounts={this.props.totalCounts}\r\n                pageSize={this.props.pageSize}\r\n                focusPage={this.props.focusPage}\r\n                followingInProgressUsers={this.props.followingInProgressUsers}\r\n                isAuth={this.props.isAuth}\r\n             />\r\n            }\r\n        </>\r\n        \r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    users: Array<userType>,\r\n    pageSize: number,\r\n    focusPage: number,\r\n    totalCounts: number,\r\n    followingInProgressUsers: Array<number>,\r\n    isFetching: boolean,\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    requestUsers: (pageSize: number, currentPage?: number) => any\r\n    follow: (id: number) => any\r\n    unFollow: (id: number) => any\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: GlobalStateType): MapStateToPropsType => {\r\n    return {\r\n        users: state.findUsersPage.users,\r\n        pageSize: state.findUsersPage.pageSize,\r\n        focusPage: state.findUsersPage.focusPage,\r\n        totalCounts: state.findUsersPage.totalCounts,\r\n        followingInProgressUsers: state.findUsersPage.followingInProgressUsers,\r\n        isFetching: state.findUsersPage.isFetching,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, GlobalStateType>(\r\n    mapStateToProps, {requestUsers, follow, unFollow}\r\n    )(FindUsersContainer);\r\n\r\n"],"sourceRoot":""}